<!DOCTYPE>
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}
    <!--Script references. -->
    <!--Reference the jQuery library. -->
   

    <script src="~/Scripts/jquery-1.10.2.min.js"></script>
    <!--Reference the SignalR library. -->

    <script src="~/Scripts/jquery.signalR-2.0.0.min.js"></script>

    <!--Reference the autogenerated SignalR hub script. -->
    <script src="/signalr/hubs"></script>

    <script type="text/javascript">


        function abc(chatHub) {

            $("#btnChat").click(function () {
                name="a"
                if (name.length > 0) {
                    chatHub.server.connect(name);
                }
                else {
                    alert("Please enter name");
                }

            });
            // Send Button event
            $div.find("#btnSendMessage").click(function () {

                $textBox = $div.find("#txtMessage");
                var msg = $textBox.val();
                if (msg.length > 0) {

                    chatHub.server.sendPrivateMessage("a", msg);
                    $textBox.val('');
                }
            });

            

        }
        function registerClientMethods(chatHub) {

            // Calls when user successfully logged in
            chatHub.client.onConnected = function (id, userName, allUsers, messages) {
                alert("hi");
            }
            chatHub.client.onNewUserConnected = function (id, userName) {
                alert("I am new");
            }

        }
        $(function () {

//            setScreen(false);

            // Declare a proxy to reference the hub.
            var chatHub = $.connection.chatHub;

            registerClientMethods(chatHub);

            // Start Hub
            $.connection.hub.start().done(function () {

                abc(chatHub);

            });

        });
    </script>
  

           
                <button id="btnChat" class="submitButton" />
             
                <input class="textbox" type="text" id="txtMessage" />
                <input id="btnSendMsg" type="button" value="Send" class="submitButton" />       